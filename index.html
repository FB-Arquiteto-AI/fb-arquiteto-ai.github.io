<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TERRA 2 - AI CITY</title>
    <style>
        body { margin: 0; overflow: hidden; background: #000; font-family: sans-serif; }
        #ui { position: absolute; top: 10px; left: 10px; color: gold; z-index: 100; pointer-events: none; }
        #btnDrive { 
            position: absolute; bottom: 40px; left: 50%; transform: translateX(-50%);
            padding: 20px 40px; background: gold; border: none; border-radius: 40px;
            font-weight: bold; font-size: 18px; z-index: 100; box-shadow: 0 0 25px gold;
        }
    </style>
</head>
<body>
    <div id="ui">
        <h2>TERRA 2: AI WORLD</h2>
        <p>ARQUITETO: FABRICIO | STATUS: ONLINE</p>
    </div>
    <button id="btnDrive">ACELERAR NO MUNDO</button>

    <script type="importmap">
        { "imports": { "three": "https://unpkg.com/three@0.160.0/build/three.module.js" } }
    </script>

    <script type="module">
        import * as THREE from 'three';

        // Inicialização do Universo
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x000205);
        scene.fog = new THREE.Fog(0x000205, 1, 60);

        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // Chão e Iluminação
        const grid = new THREE.GridHelper(400, 80, 0xffd700, 0x222222);
        scene.add(grid);
        scene.add(new THREE.AmbientLight(0xffffff, 0.6));

        // Gerador de Prédios Procedurais (IA de Construção)
        function createBuilding(zPos) {
            const h = Math.random() * 12 + 3;
            const geometry = new THREE.BoxGeometry(2, h, 2);
            const material = new THREE.MeshPhongMaterial({ 
                color: 0x050505, 
                emissive: 0xffd700, 
                emissiveIntensity: 0.2 
            });
            const mesh = new THREE.Mesh(geometry, material);
            mesh.position.set((Math.random() - 0.5) * 40, h / 2, zPos);
            scene.add(mesh);
            
            // Bordas de neon
            const edges = new THREE.EdgesGeometry(geometry);
            const line = new THREE.LineSegments(edges, new THREE.LineBasicMaterial({ color: 0xffd700 }));
            mesh.add(line);
            
            return mesh;
        }

        let buildings = [];
        for(let i=0; i<80; i++) {
            buildings.push(createBuilding(-i * 6));
        }

        camera.position.set(0, 2, 5);

        let isMoving = false;
        const btn = document.getElementById('btnDrive');
        
        // Controles para Celular
        btn.addEventListener('touchstart', () => isMoving = true);
        btn.addEventListener('touchend', () => isMoving = false);
        btn.addEventListener('mousedown', () => isMoving = true);
        btn.addEventListener('mouseup', () => isMoving = false);

        function animate() {
            requestAnimationFrame(animate);
            if(isMoving) {
                camera.position.z -= 0.3;
                grid.position.z += 0.3; // Efeito de mundo infinito
                if(grid.position.z > 5) grid.position.z = 0;
            }
            renderer.render(scene, camera);
        }
        
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        animate();
    </script>
</body>
</html>

